<div class="center">
  <div id="video-carousel" class="carousel">
    <div class="carousel-inner">
      <div class="carousel-item active">
        <video id="video1" class="carousel-video">
          <source src="<%= asset_path 'video1.mp4' %>" type="video/mp4">
          Your browser does not support the video tag.
        </video>
      </div>
      <!-- Similar changes for other videos -->
      <div class="carousel-item">
        <video id="video2" class="carousel-video">
          <source src="<%= asset_path 'video2.mp4' %>" type="video/mp4">
          Your browser does not support the video tag.
        </video>
      </div>
      <div class="carousel-item">
        <video id="video3" class="carousel-video">
          <source src="<%= asset_path 'video3.mp4' %>" type="video/mp4">
          Your browser does not support the video tag.
        </video>
      </div>
      <div class="carousel-item">
        <video id="video4" class="carousel-video">
          <source src="<%= asset_path 'video4.mp4' %>" type="video/mp4">
          Your browser does not support the video tag.
        </video>
      </div>
    </div>
  </div>
</div>
<div class="right-side">
  <div class="news">
    <p id="next-video" style=" position: fixed; bottom: 4rem; right: 1.5rem; cursor: pointer;">EXTRAIT SUIVANT</p>
    <h5>Dernières actualités</h5>
    <table>
      <tr style="padding-bottom: 1rem">
        <td class="news-date">12/08</td>
        <td style="padding-left: 1rem">Fusce eget elit vel purus lobortis commodo. In at tortor risus. Curabitur et fringilla lacus.</td>
      </tr>
      <tr>
        <td class="news-date">10/08</td>
        <td style="padding-left: 1rem">Le programme complet est disponible en téléchargement dès aujourd’hui !</td>
      </tr>
    </table>
  </div>
</div>
<script>
document.addEventListener('DOMContentLoaded', function() {
  const carouselItems = document.querySelectorAll('.carousel-item');
  const videos = document.querySelectorAll('.carousel-video');
  let currentIndex = 0;

  function showVideo(index) {
    if (index < 0) {
        index = carouselItems.length - 1;
    } else if (index >= carouselItems.length) {
        index = 0;
    }

    carouselItems[currentIndex].classList.remove('active'); // Remove active from the current item
    videos[currentIndex].pause(); // Pause the current video
    videos[currentIndex].currentTime = 0; // Reset the current video time

    currentIndex = index;

    carouselItems[currentIndex].classList.add('active'); // Add active to the new item
    videos[currentIndex].setAttribute('controls', 'true'); // Add controls to the new active video
    videos[currentIndex].play(); // Play the new active video
  }

  document.getElementById('next-video').addEventListener('click', function() {
    showVideo(currentIndex + 1);
  });

  // Show the first video initially
  showVideo(currentIndex);
});
  document.addEventListener("DOMContentLoaded", function () {
  // Get all links in the sub-menu
  const submenuLinks = document.querySelectorAll(".sub-menu a");

  submenuLinks.forEach((link) => {
    // Add click event listener to each link
    link.addEventListener("click", function (event) {
      // Remove 'active' class from all sub-menu links
      submenuLinks.forEach((lnk) => lnk.classList.remove("active"));

      // Add 'active' class to the clicked link
      link.classList.add("active");
    });

    // Check if the link's href matches the current URL
    if (link.href === window.location.href) {
      // Add 'active' class to the matching link
      link.classList.add("active");
    }
  });
});

</script>
